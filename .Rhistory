run_app()
devtools::load_all(".")
run_app()
xafty_cards
xafty_cards[[1]]
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
usethis::use_package("bslib")
devtools::load_all(".")
run_app()
usethis::use_package("htmltools")
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
card_header
?bslib::card_header
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::document()
devtools::load_all(".")
run_app()
devtools::document()
devtools::load_all(".")
run_app()
?bslib
?bslib::bs_theme
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
install.packages("rhandsontable")
devtools::load_all(".")
devtools::load_all(".")
run_app()
xafty_table
seq(nrow(xafty_table))
sapply(seq(nrow(xafty_table)), \(x) {
paste0("check_", xafty_table$rule[x],"_", xafty_table$column[x])
})
sub("##!!", "", xafty_table$column[x])
sapply(seq(nrow(xafty_table)), \(x) {
paste0("check_", xafty_table$rule[x],"_", sub("##!!", "", xafty_table$column[x]))
})
check_rules_ids <- sapply(seq(nrow(xafty_table)), \(x) {
paste0("check_", xafty_table$rule[x],"_", sub(pattern = "##!!",replacement =  "", x = xafty_table$column[x]))
})
check_rules_ids
sapply(seq(nrow(xafty_table)), \(x) {
paste0("check_", sub("##!!", "", xafty_table$rule[x]),"_", xafty_table$column[x])
})
sapply(seq(nrow(xafty_table)), \(x) {
paste0("check_", sub("##!!", "", xafty_table$rule[x]),"_", xafty_table$column[x])
paste0("table_", sub("##!!", "", xafty_table$rule[x]),"_", xafty_table$column[x])
})
seq(nrow(xafty_table))
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
xafty_table$rule
sub("##!!", "",xafty_table$rule)
xafty_table$column
devtools::load_all(".")
run_app()
xafty_rules_check <- paste0("check_", rval_xafty_list$check_rules_ids, "_", rval_xafty_list$check_table_ids)
xafty_rules_check
xaft_rules <- rval_xafty_list$check_rules_ids
xafty_columns <- rval_xafty_list$check_table_ids
xafty_rules_check <- paste0("check_", xaft_rules, "_", xafty_columns)
xafty_table_check <- paste0("table_", xaft_rules, "_", xafty_columns)
xafty_rules_check
xafty_table_check
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
xafty_list <- xafty_list()
xaft_rules[[1]]
xaft_rules[1]
xafty_columns[1]
xafty_list[xafty_columns[1]]
n_buttons
xafty_list[xafty_columns[local_i]][xaft_rules[local_i]]
xafty_list[xafty_columns[1]][xaft_rules[1]]
xafty_list[xafty_columns[local_i]]
xaft_rules[1]
xafty_list[xafty_columns[1]][xaft_rules[1]]
xafty_list[[xafty_columns[1]]][xaft_rules[1]]
xafty_list[[xafty_columns[1]]][[xaft_rules[1]]]
xafty_list[[xafty_columns[1]]][[xaft_rules[1]]]$filter_function()
xafty_list[[xafty_columns[1]]][[xaft_rules[1]]]$filter_function
shiny::observe(
rval_xafty_list$xafty_names <- names(xafty_list())
)
devtools::load_all(".")
run_app()
unique_id
xafty_list[[xafty_column]][[xafty_rule]]
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
xafty_rule_items
xafty_rule_items <- rvla_sm[[unique_id]]
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
remotes::install_local("../xafty/")
remotes::install_local("../xafty/", force = TRUE)
usethis::use_package("xafty")
devtools::load_all(".")
run_app()
xafty_rule_items$column_name
xafty_rule_items$rule_syntax
xafty_rule_items$filter_function(check_table, validity_table = validity_table,
filter_column = xafty_rule_items$column_name,
xafty_rule = xafty_rule_items$rule_syntax,
xafty_values = xafty_rule_items$values)
check_table[xafty_rule_items$column_name]
check_table[xafty_rule_items$column_name][check_result_logical]
check_result_logical <- xafty_rule_items$filter_function(check_table, validity_table = validity_table,
filter_column = xafty_rule_items$column_name,
xafty_rule = xafty_rule_items$rule_syntax,
xafty_values = xafty_rule_items$values)
check_table[xafty_rule_items$column_name][check_result_logical]
check_table[[xafty_rule_items$column_name]][check_result_logical]
which(check_result_logical)
devtools::load_all(".")
run_app()
xafty_rule_items$filter_result
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
usethis::use_package("rhandsontable")
devtools::load_all(".")
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
?rhandsontable
?hot_cols
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
devtools::load_all(".")
run_app()
col_highlight
row_highlight
xafty_rule_items$filter_function(check_table, validity_table = validity_table,
filter_column = xafty_rule_items$column_name,
xafty_rule = xafty_rule_items$rule_syntax,
xafty_values = xafty_rule_items$values)
check_result_logical <- xafty_rule_items$filter_function(check_table, validity_table = validity_table,
filter_column = xafty_rule_items$column_name,
xafty_rule = xafty_rule_items$rule_syntax,
xafty_values = xafty_rule_items$values)
check_table[[xafty_rule_items$column_name]][check_result_logical]
xafty_rule_items$filter_function
xafty_rule_items$column_name
colnames(check_table) == xafty_rule_items$column_name
row_highlight
xafty_rule_items$filter_function(check_table, validity_table = validity_table,
filter_column = xafty_rule_items$column_name,
xafty_rule = xafty_rule_items$rule_syntax,
xafty_values = xafty_rule_items$values)
xafty::as.Date_xafty(check_table$Birthday)
xafty::is.Date_xafty(check_table$Birthday)
col_highlight
col_highlight
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
rhandsontabe_id
rhandsontable::renderRHandsontable({
rhandsontable::rhandsontable(check_table, col_highlight = col_highlight,
row_highlight = row_highlight) |>
rhandsontable::hot_cols(renderer = "
function(instance, td, row, col, prop, value, cellProperties) {
Handsontable.renderers.TextRenderer.apply(this, arguments);
tbl = this.HTMLWidgets.widgets[0]
hcols = tbl.params.col_highlight
hcols = hcols instanceof Array ? hcols : [hcols]
hrows = tbl.params.row_highlight
hrows = hrows instanceof Array ? hrows : [hrows]
if (hcols.includes(col) && hrows.includes(row)) {
td.style.background = 'red';
}
else if (hcols.includes(col)) {
td.style.background = 'lightblue';
}
else if (hrows.includes(row)) {
td.style.background = 'pink';
}
return td;
}")
})
devtools::load_all(".")
run_app()
paste0("table_", xafty_rule,"_", tab_name)
paste0("table_", xafty_rule,"_", tab_name)
paste0("table_", xafty_rule,"_", tab_name)
paste0("table_", xafty_rule,"_", tab_name)
devtools::load_all(".")
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
?req
?reactivVal
?reactiveVal
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
i
local_i <- i
xafty_button_id <- xafty_rules_ids[[local_i]]
xafty_ui_output_id <- xafty_message_ids[[local_i]]
rhandsontabe_id <- xafty_table_ids[[local_i]]
xafty_button_id
xafty_ui_output_id
rhandsontabe_id <- xafty_table_ids[[local_i]]
render_handsontable_id <- paste("r_", rhandsontabe_id)
xafty_column <- xafty_columns[[local_i]]
xafty_rule <- xaft_rules[[local_i]]
unique_id <- paste0(xafty_column, xafty_rule)
xafty_list_values <- xafty_list[[xafty_column]][[xafty_rule]]
xafty_list_values
xafty_list_values[[xafty_button_id]] <- xafty_button_id
xafty_list_values
xafty_list_values[["xafty_button_id"]] <- xafty_button_id
xafty_list_values
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
rvla_sm()
names(rvla_sm)
xafty_rule_columns <- names(rvla_sm)
sapply(xafty_rule_columns, \(rule_column){
xafty_rule_columns[[rule_column]][[unique_id]]
})
devtools::load_all(".")
run_app()
xafty_rule_columns <- names(rvla_sm)
sapply(xafty_rule_columns, \(rule_column){
rvla_sm[[rule_column]][[unique_id]]
})
rval_sm
rvla_sm[[unique_id]]
render_tables_created()
names(rvla_sm)
rval_sm$unique_id
xafty_rule_columns
sapply(xafty_rule_columns, \(rule_column){
rvla_sm[[unique_id]]
})
rval_sm
devtools::load_all(".")
run_app()
rval_sm[[xafty_rule_columns[1]]]
sapply(xafty_rule_columns, \(rule_column){
rval_sm[[rule_column]][[unique_id]]
})
rval_sm[[xafty_rule_columns[1]]]$unique_id
unique_ids <- names(rval_sm)
unique_ids
local_unique_id <- unique_ids[1]
local_unique_id
rval_sm[[local_unique_id]]
xafty_items <- rval_sm[[local_unique_id]]
xafty_items[["xafty_button_id"]]
devtools::load_all(".")
run_app()
unique_id <- unique_ids[1]
unique_id
local_unique_id <- unique_id
xafty_items <- rval_sm[[local_unique_id]]
xafty_button_id <- xafty_items[["xafty_button_id"]]
observeEvent(input[[xafty_button_id]], {
# Now, local_i is the value of i during this iteration of the loop
check_table <- rval_xafty_list$check_table
validity_table <- rval_xafty_list$validity_table
xafty_rule_items <- rvla_sm[[local_unique_id]]
if (!any(xafty_rule_items$filter_result)) {
output[[xafty_ui_output_id]] <- shiny::renderUI(p(xafty_rule_items$message))
} else {
check_result_logical <- xafty_rule_items$filter_function(check_table, validity_table = validity_table,
filter_column = xafty_rule_items$column_name,
xafty_rule = xafty_rule_items$rule_syntax,
xafty_values = xafty_rule_items$values)
false_values <- check_table[[xafty_rule_items$column_name]][check_result_logical]
row_highlight <- which(check_result_logical) - 1
col_highlight <- which(colnames(check_table) == xafty_rule_items$column_name) - 1
output[[rhandsontabe_id]] <-  shiny::renderUI({
rhandsontable::rhandsontable(check_table, col_highlight = col_highlight,
row_highlight = row_highlight) |>
rhandsontable::hot_cols(renderer = "
function(instance, td, row, col, prop, value, cellProperties) {
Handsontable.renderers.TextRenderer.apply(this, arguments);
tbl = this.HTMLWidgets.widgets[0]
hcols = tbl.params.col_highlight
hcols = hcols instanceof Array ? hcols : [hcols]
hrows = tbl.params.row_highlight
hrows = hrows instanceof Array ? hrows : [hrows]
if (hcols.includes(col) && hrows.includes(row)) {
td.style.background = 'red';
}
else if (hcols.includes(col)) {
td.style.background = 'lightblue';
}
else if (hrows.includes(row)) {
td.style.background = 'pink';
}
return td;
}")
})
}
})
devtools::load_all(".")
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
local_unique_id <- unique_id
xafty_items <- rval_sm[[local_unique_id]]
xafty_button_id <- xafty_items[["xafty_button_id"]]
rhandsontabe_id <- xafty_items[["render_handsontable_id"]]
input[[xafty_button_id]]
rval_xafty_list$check_table
rval_xafty_list$validity_table
rvla_sm[[local_unique_id]]
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
local_unique_id <- unique_id
xafty_items <- rval_sm[[local_unique_id]]
xafty_button_id <- xafty_items[["xafty_button_id"]]
xafty_ui_output_id <- xafty_items[["xafty_ui_output_id"]]
rhandsontabe_id <- xafty_items[["render_handsontable_id"]]
check_table <- rval_xafty_list$check_table
validity_table <- rval_xafty_list$validity_table
xafty_rule_items <- rval_sm[[local_unique_id]]
xafty_rule_items
!any(xafty_rule_items$filter_result)
xafty_rule_items$filter_result
xafty_rule_items$filter_result
xafty_rule_items$message
check_table[[xafty_rule_items$column_name]][check_result_logical]
xafty_rule_items$filter_function(check_table, validity_table = validity_table,
filter_column = xafty_rule_items$column_name,
xafty_rule = xafty_rule_items$rule_syntax,
xafty_values = xafty_rule_items$values)
xafty_rule_items <- rval_sm[[local_unique_id]]
p(xafty_rule_items$message)
xafty_rule_items$filter_function(check_table, validity_table = validity_table,
filter_column = xafty_rule_items$column_name,
xafty_rule = xafty_rule_items$rule_syntax,
xafty_values = xafty_rule_items$values)
xafty_rule_items$filter_function
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
local_unique_id <- unique_id
xafty_items <- rval_sm[[local_unique_id]]
xafty_button_id <- xafty_items[["xafty_button_id"]]
xafty_ui_output_id <- xafty_items[["xafty_ui_output_id"]]
rhandsontabe_id <- xafty_items[["render_handsontable_id"]]
rhandsontabe_id
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
local_unique_id <- unique_id
xafty_items <- rval_sm[[local_unique_id]]
xafty_button_id <- xafty_items[["xafty_button_id"]]
xafty_ui_output_id <- xafty_items[["xafty_ui_output_id"]]
rhandsontabe_id <- xafty_items[["render_handsontable_id"]]
rhandsontabe_id
check_table <- rval_xafty_list$check_table
validity_table <- rval_xafty_list$validity_table
xafty_rule_items <- rval_sm[[local_unique_id]]
xafty_rule_items
devtools::load_all(".")
run_app()
local_unique_id <- unique_id
xafty_items <- rval_sm[[local_unique_id]]
xafty_button_id <- xafty_items[["xafty_button_id"]]
xafty_ui_output_id <- xafty_items[["xafty_ui_output_id"]]
rhandsontabe_id <- xafty_items[["render_handsontable_id"]]
check_table <- rval_xafty_list$check_table
validity_table <- rval_xafty_list$validity_table
xafty_rule_items <- rval_sm[[local_unique_id]]
xafty_rule_items
!any(xafty_rule_items$filter_result)
xafty_rule_items$filter_function(check_table, validity_table = validity_table,
filter_column = xafty_rule_items$column_name,
xafty_rule = xafty_rule_items$rule_syntax,
xafty_values = xafty_rule_items$values)
check_result_logical <- xafty_rule_items$filter_function(check_table, validity_table = validity_table,
filter_column = xafty_rule_items$column_name,
xafty_rule = xafty_rule_items$rule_syntax,
xafty_values = xafty_rule_items$values)
false_values <- check_table[[xafty_rule_items$column_name]][check_result_logical]
row_highlight <- which(check_result_logical) - 1
col_highlight <- which(colnames(check_table) == xafty_rule_items$column_name) - 1
output[[rhandsontabe_id]] <-  rhandsontable::renderRHandsontable({
rhandsontable::rhandsontable(check_table, col_highlight = col_highlight,
row_highlight = row_highlight) |>
rhandsontable::hot_cols(renderer = "
function(instance, td, row, col, prop, value, cellProperties) {
Handsontable.renderers.TextRenderer.apply(this, arguments);
tbl = this.HTMLWidgets.widgets[0]
hcols = tbl.params.col_highlight
hcols = hcols instanceof Array ? hcols : [hcols]
hrows = tbl.params.row_highlight
hrows = hrows instanceof Array ? hrows : [hrows]
if (hcols.includes(col) && hrows.includes(row)) {
td.style.background = 'red';
}
else if (hcols.includes(col)) {
td.style.background = 'lightblue';
}
else if (hrows.includes(row)) {
td.style.background = 'pink';
}
return td;
}")
})
!any(xafty_rule_items$filter_result)
xafty_rule_items
validity_table
check_table
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
