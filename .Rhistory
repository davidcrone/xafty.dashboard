paste0("table_", xafty_rule,"_", tab_name)
devtools::load_all(".")
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
?req
?reactivVal
?reactiveVal
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
i
local_i <- i
xafty_button_id <- xafty_rules_ids[[local_i]]
xafty_ui_output_id <- xafty_message_ids[[local_i]]
rhandsontabe_id <- xafty_table_ids[[local_i]]
xafty_button_id
xafty_ui_output_id
rhandsontabe_id <- xafty_table_ids[[local_i]]
render_handsontable_id <- paste("r_", rhandsontabe_id)
xafty_column <- xafty_columns[[local_i]]
xafty_rule <- xaft_rules[[local_i]]
unique_id <- paste0(xafty_column, xafty_rule)
xafty_list_values <- xafty_list[[xafty_column]][[xafty_rule]]
xafty_list_values
xafty_list_values[[xafty_button_id]] <- xafty_button_id
xafty_list_values
xafty_list_values[["xafty_button_id"]] <- xafty_button_id
xafty_list_values
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
rvla_sm()
names(rvla_sm)
xafty_rule_columns <- names(rvla_sm)
sapply(xafty_rule_columns, \(rule_column){
xafty_rule_columns[[rule_column]][[unique_id]]
})
devtools::load_all(".")
run_app()
xafty_rule_columns <- names(rvla_sm)
sapply(xafty_rule_columns, \(rule_column){
rvla_sm[[rule_column]][[unique_id]]
})
rval_sm
rvla_sm[[unique_id]]
render_tables_created()
names(rvla_sm)
rval_sm$unique_id
xafty_rule_columns
sapply(xafty_rule_columns, \(rule_column){
rvla_sm[[unique_id]]
})
rval_sm
devtools::load_all(".")
run_app()
rval_sm[[xafty_rule_columns[1]]]
sapply(xafty_rule_columns, \(rule_column){
rval_sm[[rule_column]][[unique_id]]
})
rval_sm[[xafty_rule_columns[1]]]$unique_id
unique_ids <- names(rval_sm)
unique_ids
local_unique_id <- unique_ids[1]
local_unique_id
rval_sm[[local_unique_id]]
xafty_items <- rval_sm[[local_unique_id]]
xafty_items[["xafty_button_id"]]
devtools::load_all(".")
run_app()
unique_id <- unique_ids[1]
unique_id
local_unique_id <- unique_id
xafty_items <- rval_sm[[local_unique_id]]
xafty_button_id <- xafty_items[["xafty_button_id"]]
observeEvent(input[[xafty_button_id]], {
# Now, local_i is the value of i during this iteration of the loop
check_table <- rval_xafty_list$check_table
validity_table <- rval_xafty_list$validity_table
xafty_rule_items <- rvla_sm[[local_unique_id]]
if (!any(xafty_rule_items$filter_result)) {
output[[xafty_ui_output_id]] <- shiny::renderUI(p(xafty_rule_items$message))
} else {
check_result_logical <- xafty_rule_items$filter_function(check_table, validity_table = validity_table,
filter_column = xafty_rule_items$column_name,
xafty_rule = xafty_rule_items$rule_syntax,
xafty_values = xafty_rule_items$values)
false_values <- check_table[[xafty_rule_items$column_name]][check_result_logical]
row_highlight <- which(check_result_logical) - 1
col_highlight <- which(colnames(check_table) == xafty_rule_items$column_name) - 1
output[[rhandsontabe_id]] <-  shiny::renderUI({
rhandsontable::rhandsontable(check_table, col_highlight = col_highlight,
row_highlight = row_highlight) |>
rhandsontable::hot_cols(renderer = "
function(instance, td, row, col, prop, value, cellProperties) {
Handsontable.renderers.TextRenderer.apply(this, arguments);
tbl = this.HTMLWidgets.widgets[0]
hcols = tbl.params.col_highlight
hcols = hcols instanceof Array ? hcols : [hcols]
hrows = tbl.params.row_highlight
hrows = hrows instanceof Array ? hrows : [hrows]
if (hcols.includes(col) && hrows.includes(row)) {
td.style.background = 'red';
}
else if (hcols.includes(col)) {
td.style.background = 'lightblue';
}
else if (hrows.includes(row)) {
td.style.background = 'pink';
}
return td;
}")
})
}
})
devtools::load_all(".")
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
local_unique_id <- unique_id
xafty_items <- rval_sm[[local_unique_id]]
xafty_button_id <- xafty_items[["xafty_button_id"]]
rhandsontabe_id <- xafty_items[["render_handsontable_id"]]
input[[xafty_button_id]]
rval_xafty_list$check_table
rval_xafty_list$validity_table
rvla_sm[[local_unique_id]]
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
local_unique_id <- unique_id
xafty_items <- rval_sm[[local_unique_id]]
xafty_button_id <- xafty_items[["xafty_button_id"]]
xafty_ui_output_id <- xafty_items[["xafty_ui_output_id"]]
rhandsontabe_id <- xafty_items[["render_handsontable_id"]]
check_table <- rval_xafty_list$check_table
validity_table <- rval_xafty_list$validity_table
xafty_rule_items <- rval_sm[[local_unique_id]]
xafty_rule_items
!any(xafty_rule_items$filter_result)
xafty_rule_items$filter_result
xafty_rule_items$filter_result
xafty_rule_items$message
check_table[[xafty_rule_items$column_name]][check_result_logical]
xafty_rule_items$filter_function(check_table, validity_table = validity_table,
filter_column = xafty_rule_items$column_name,
xafty_rule = xafty_rule_items$rule_syntax,
xafty_values = xafty_rule_items$values)
xafty_rule_items <- rval_sm[[local_unique_id]]
p(xafty_rule_items$message)
xafty_rule_items$filter_function(check_table, validity_table = validity_table,
filter_column = xafty_rule_items$column_name,
xafty_rule = xafty_rule_items$rule_syntax,
xafty_values = xafty_rule_items$values)
xafty_rule_items$filter_function
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
local_unique_id <- unique_id
xafty_items <- rval_sm[[local_unique_id]]
xafty_button_id <- xafty_items[["xafty_button_id"]]
xafty_ui_output_id <- xafty_items[["xafty_ui_output_id"]]
rhandsontabe_id <- xafty_items[["render_handsontable_id"]]
rhandsontabe_id
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
local_unique_id <- unique_id
xafty_items <- rval_sm[[local_unique_id]]
xafty_button_id <- xafty_items[["xafty_button_id"]]
xafty_ui_output_id <- xafty_items[["xafty_ui_output_id"]]
rhandsontabe_id <- xafty_items[["render_handsontable_id"]]
rhandsontabe_id
check_table <- rval_xafty_list$check_table
validity_table <- rval_xafty_list$validity_table
xafty_rule_items <- rval_sm[[local_unique_id]]
xafty_rule_items
devtools::load_all(".")
run_app()
local_unique_id <- unique_id
xafty_items <- rval_sm[[local_unique_id]]
xafty_button_id <- xafty_items[["xafty_button_id"]]
xafty_ui_output_id <- xafty_items[["xafty_ui_output_id"]]
rhandsontabe_id <- xafty_items[["render_handsontable_id"]]
check_table <- rval_xafty_list$check_table
validity_table <- rval_xafty_list$validity_table
xafty_rule_items <- rval_sm[[local_unique_id]]
xafty_rule_items
!any(xafty_rule_items$filter_result)
xafty_rule_items$filter_function(check_table, validity_table = validity_table,
filter_column = xafty_rule_items$column_name,
xafty_rule = xafty_rule_items$rule_syntax,
xafty_values = xafty_rule_items$values)
check_result_logical <- xafty_rule_items$filter_function(check_table, validity_table = validity_table,
filter_column = xafty_rule_items$column_name,
xafty_rule = xafty_rule_items$rule_syntax,
xafty_values = xafty_rule_items$values)
false_values <- check_table[[xafty_rule_items$column_name]][check_result_logical]
row_highlight <- which(check_result_logical) - 1
col_highlight <- which(colnames(check_table) == xafty_rule_items$column_name) - 1
output[[rhandsontabe_id]] <-  rhandsontable::renderRHandsontable({
rhandsontable::rhandsontable(check_table, col_highlight = col_highlight,
row_highlight = row_highlight) |>
rhandsontable::hot_cols(renderer = "
function(instance, td, row, col, prop, value, cellProperties) {
Handsontable.renderers.TextRenderer.apply(this, arguments);
tbl = this.HTMLWidgets.widgets[0]
hcols = tbl.params.col_highlight
hcols = hcols instanceof Array ? hcols : [hcols]
hrows = tbl.params.row_highlight
hrows = hrows instanceof Array ? hrows : [hrows]
if (hcols.includes(col) && hrows.includes(row)) {
td.style.background = 'red';
}
else if (hcols.includes(col)) {
td.style.background = 'lightblue';
}
else if (hrows.includes(row)) {
td.style.background = 'pink';
}
return td;
}")
})
!any(xafty_rule_items$filter_result)
xafty_rule_items
validity_table
check_table
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
shiny::runApp('C:/Users/david/R_Projects/test_app')
devtools::load_all(".")
run_app()
local_i <- i
xafty_button_id <- xafty_rules_ids[[local_i]]
xafty_ui_output_id <- xafty_message_ids[[local_i]]
rhandsontabe_id <- xafty_table_ids[[local_i]]
render_handsontable_id <- paste0("r_", rhandsontabe_id)
rhandsontabe_id
rhandsontabe_id
output[[rhandsontabe_id]]
rhandsontabe_id
ns(render_handsontable_id)
rhandsontable::rHandsontableOutput(ns(render_handsontable_id)
)
rhandsontabe_id
render_handsontable_id
devtools::load_all(".")
run_app()
local_unique_id <- unique_id
xafty_items <- rval_sm[[local_unique_id]]
xafty_button_id <- xafty_items[["xafty_button_id"]]
xafty_ui_output_id <- xafty_items[["xafty_ui_output_id"]]
render_handsontable_id <- xafty_items[["render_handsontable_id"]]
render_handsontable_id
render_handsontable_id
input[[xafty_button_id]]
xafty_button_id
check_table <- rval_xafty_list$check_table
validity_table <- rval_xafty_list$validity_table
xafty_rule_items <- rval_sm[[local_unique_id]]
xafty_rule_items
render_handsontable_id
runApp('C:/Users/david/R_Projects/test_app')
runApp('C:/Users/david/R_Projects/test_app')
install.packages("reactlog")
library(reactlog)
reactlog_enable()
runApp('C:/Users/david/R_Projects/test_app')
reactlog_show()
reactlog_show()
reactlog_show()
reactlog_enable()
runApp('C:/Users/david/R_Projects/test_app')
reactlog_show()
runApp('C:/Users/david/R_Projects/test_app')
runApp('C:/Users/david/R_Projects/test_app')
runApp('C:/Users/david/R_Projects/test_app')
runApp('C:/Users/david/R_Projects/test_app')
runApp('C:/Users/david/R_Projects/test_app')
runApp('C:/Users/david/R_Projects/test_app')
runApp('C:/Users/david/R_Projects/test_app')
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
check_table <- rval_xafty_list$check_table
validity_table <- rval_xafty_list$validity_table
xafty_rule_items <- rval_sm[[local_unique_id]]
if (!any(xafty_rule_items$filter_result)) {
output[[xafty_ui_output_id]] <- shiny::renderUI(p(xafty_rule_items$message))
} else {
check_result_logical <- xafty_rule_items$filter_function(check_table, validity_table = validity_table,
filter_column = xafty_rule_items$column_name,
xafty_rule = xafty_rule_items$rule_syntax,
xafty_values = xafty_rule_items$values)
false_values <- check_table[[xafty_rule_items$column_name]][check_result_logical]
row_highlight <- which(check_result_logical) - 1
col_highlight <- which(colnames(check_table) == xafty_rule_items$column_name) - 1
output[[render_handsontable_id]] <-  rhandsontable::renderRHandsontable({
rhandsontable::rhandsontable(check_table, col_highlight = col_highlight,
row_highlight = row_highlight) |>
rhandsontable::hot_cols(renderer = "
function(instance, td, row, col, prop, value, cellProperties) {
Handsontable.renderers.TextRenderer.apply(this, arguments);
tbl = this.HTMLWidgets.widgets[0]
hcols = tbl.params.col_highlight
hcols = hcols instanceof Array ? hcols : [hcols]
hrows = tbl.params.row_highlight
hrows = hrows instanceof Array ? hrows : [hrows]
if (hcols.includes(col) && hrows.includes(row)) {
td.style.background = 'red';
}
else if (hcols.includes(col)) {
td.style.background = 'lightblue';
}
else if (hrows.includes(row)) {
td.style.background = 'pink';
}
return td;
}")
})
}
devtools::load_all(".")
run_app()
check_result_logical
row_highlight
col_highlight
output[[render_handsontable_id]]
render_handsontable_id
Q
devtools::load_all(".")
run_app()
render_handsontable_id
rhandsontable::renderRHandsontable({
rhandsontable::rhandsontable(check_table, col_highlight = col_highlight,
row_highlight = row_highlight) |>
rhandsontable::hot_cols(renderer = "
function(instance, td, row, col, prop, value, cellProperties) {
Handsontable.renderers.TextRenderer.apply(this, arguments);
tbl = this.HTMLWidgets.widgets[0]
hcols = tbl.params.col_highlight
hcols = hcols instanceof Array ? hcols : [hcols]
hrows = tbl.params.row_highlight
hrows = hrows instanceof Array ? hrows : [hrows]
if (hcols.includes(col) && hrows.includes(row)) {
td.style.background = 'red';
}
else if (hcols.includes(col)) {
td.style.background = 'lightblue';
}
else if (hrows.includes(row)) {
td.style.background = 'pink';
}
return td;
}")
)
rhandsontable::renderRHandsontable({
rhandsontable::rhandsontable(check_table, col_highlight = col_highlight,
row_highlight = row_highlight) |>
rhandsontable::hot_cols(renderer = "
function(instance, td, row, col, prop, value, cellProperties) {
Handsontable.renderers.TextRenderer.apply(this, arguments);
tbl = this.HTMLWidgets.widgets[0]
hcols = tbl.params.col_highlight
hcols = hcols instanceof Array ? hcols : [hcols]
hrows = tbl.params.row_highlight
hrows = hrows instanceof Array ? hrows : [hrows]
if (hcols.includes(col) && hrows.includes(row)) {
td.style.background = 'red';
}
else if (hcols.includes(col)) {
td.style.background = 'lightblue';
}
else if (hrows.includes(row)) {
td.style.background = 'pink';
}
return td;
}")
})
devtools::load_all(".")
run_app()
check_table
devtools::load_all(".")
run_app()
run_app()
devtools::load_all(".")
run_app()
?rhandsontable
devtools::load_all(".")
run_app()
render_handsontable_id
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
ns(r_table_factor_Name)
ns("r_table_factor_Name")
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
?rhandsontable
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
print(input[[render_handsontable_id]]$changes)
input[[render_handsontable_id]]$changes[[2]]
input[[render_handsontable_id]]$changes[[1]][[2]]
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
input[[render_handsontable_id]]$changes
input[[render_handsontable_id]]$changes$changes
input[[render_handsontable_id]]$changes$changes
input[[render_handsontable_id]]$changes
input[[render_handsontable_id]]$changes$changes[[1]]
input[[render_handsontable_id]]$changes$changes[[1]][[2]]
input[[render_handsontable_id]]$changes$changes[[1]][[4]]
row_change <- input[[render_handsontable_id]]$changes$changes[[1]][[1]] + 1
col_change <- input[[render_handsontable_id]]$changes$changes[[1]][[2]] + 1
changed_to <- input[[render_handsontable_id]]$changes$changes[[1]][[4]]
check_table <- rval_xafty_list$check_table
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
check_table
check_result_logical <- xafty_rule_items$filter_function(check_table, validity_table = validity_table,
filter_column = xafty_rule_items$column_name,
xafty_rule = xafty_rule_items$rule_syntax,
xafty_values = xafty_rule_items$values)
rval_sm[[local_unique_id]]$filter_result
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
!any(xafty_rule_items$filter_result)
xafty_rule_items
xafty_rule_items$filter_result)
xafty_rule_items$filter_result
xafty_rule_items$filter_function(check_table, validity_table = validity_table,
filter_column = xafty_rule_items$column_name,
xafty_rule = xafty_rule_items$rule_syntax,
xafty_values = xafty_rule_items$values)
xafty_rule_items$rule_syntax
xafty_rule_items$check_function(check_table, validity_table)
remotes::install_local("../xafty/")
devtools::load_all(".")
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
xafty_rule_items$rule_type
xafty_rule_items$rule_type == "data_type"
check_table[xafty_rule_items$column_name]
xafty_rule_items$change_type_function(column_check_table)
column_check_table <- check_table[xafty_rule_items$column_name]
changed_column_check_table <- xafty_rule_items$change_type_function(column_check_table)
xafty_rule_items$change_type_function
xafty_rule_items$rule_type
local_unique_id
xafty_rule_items$rule_syntax
xafty_rule_items$change_type_function
